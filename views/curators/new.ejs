
<h2>New Curator</h2>

<form action="/curators" method="POST" >
    <%- include('_form_fields') %>

<ul>
    <button type="submit">Create</button>
    <a id="create_curator_form_buttons" href="/curators">Cancel</a>
</ul>

<script>
// const form  = document.querySelector('form');
    
// const nameError = document.querySelector('.curator_name.error');



// form.addEventListener('submit', async (e) => {
//     e.preventDefault();
//     //reset errors

    
    
//     nameError.textContent = '';
    
        
//     //get the values
    
//     const name = form.curator_name.value;
  

    

//     try {
        
//         const res = await fetch('/curators', {
//             method: 'POST',
//             body: JSON.stringify({ 
//                 name: name}),
                
//                 headers: { 'Content-Type': 'application/json'}

//         });
        
//         const data = await res.json();
        
//         if (data.errors) {
            
            
//             nameError.textContent = data.errors.name;
//             console.log('there is an error')
//         }
//         if (data) {
            
//             console.log(data)
//             location.assign('/curators');
//         } else {
//             console.log('error')
//         }
        
//     } catch (err) {
//         console.log(err);

//     } 

// })



</script>

</form>

<%- include('../partials/footer'); -%>
